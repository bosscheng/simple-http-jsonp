!function(){function e(){}function r(e,r){return(e+"&"+r).replace(/[&?]{1,2}/,"?")}function t(e,r,n,i){var c=function(e){return"[object Array]"===Object.prototype.toString.call(e)}(r);for(var a in r){var u=r[a];i&&(a=n?i:i+"["+(c?"":a)+"]"),!i&&c?e.add(u.name,u.value):(n?c(u):o(u))?t(e,u,n,a):e.add(a,u)}}function o(e){var r=typeof e;return"function"===r||"object"===r&&!!e}function n(e){o(e)&&(e.data=function(e,r){var o=[];return o.add=function(e,r){this.push(encodeURIComponent(e)+"="+encodeURIComponent(r))},t(o,e,r),o.join("&").replace("%20","+")}(e.data)),!e.data||e.type&&"GET"!=e.type.toUpperCase()||(e.url=r(e.url,e.data))}function i(t){function o(){p.clearAttributes?p.clearAttributes():p.onload=p.onreadystatechange=p.onerror=null,p.parentNode&&p.parentNode.removeChild(p),p=null,delete window[f]}var i=function(e){for(var r=Array.prototype.slice.call(arguments,1),t=0,o=r.length;t<o;t++){var n=r[t];for(var i in r[t])void 0!==n[i]&&(e[i]=n[i])}return e}({},t||{});for(var a in c)void 0===i[a]&&(i[a]=c[a]);try{var u={},s=new Promise(function(e,r){u.resolve=e,u.reject=r});s.resolve=u.resolve,s.reject=u.reject,i.promise=s}catch(r){i.promise={resolve:e,reject:e}}if(!/=\?/.test(i.url)){var d=(i.jsonp||"callback")+"=?";i.url=r(i.url,d)}var l,f=i.jsonpCallback||"jsonp"+(new Date).getTime(),p=window.document.createElement("script"),m={abort:function(){f in window&&(window[f]=e)}},w=window.document.getElementsByTagName("head")[0]||window.document.documentElement;return p.onerror=function(e){!function(e){window.clearTimeout(l),m.abort(),i.error(e),i.promise.reject(e),o()}(e)},window[f]=function(e){window.clearTimeout(l),i.success(e),i.promise.resolve(e),o()},n(i),p.src=i.url.replace(/=\?/,"="+f),p.src=r(p.src,"_="+(new Date).getTime()),p.async=!0,i.scriptCharset&&(p.charset=i.scriptCharset),w.insertBefore(p,w.firstChild),i.timeout>0&&(l=window.setTimeout(function(){m.abort(),i.error("timeout"),i.promise.reject("timeout"),o()},i.timeout)),t.promise.abort=function(){m.abort()},i.promise}var c={success:e,error:e};"function"==typeof define?define(function(){return i}):"undefined"!=typeof exports?module.exports=i:window.jsonp=i}();